(this["webpackJsonpclient-hours"]=this["webpackJsonpclient-hours"]||[]).push([[0],{11:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"q",(function(){return E})),n.d(t,"p",(function(){return v})),n.d(t,"n",(function(){return g})),n.d(t,"r",(function(){return w})),n.d(t,"o",(function(){return y})),n.d(t,"t",(function(){return O})),n.d(t,"k",(function(){return k})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return N})),n.d(t,"j",(function(){return C})),n.d(t,"s",(function(){return x})),n.d(t,"f",(function(){return S})),n.d(t,"l",(function(){return D})),n.d(t,"u",(function(){return B})),n.d(t,"m",(function(){return U})),n.d(t,"i",(function(){return I}));var a=n(6),r=n.n(a),c=n(16),l=n(28),o=n(33),u=n.n(o),s=n(7),i=n(217),m=n(29),d="SET_CLIENTDATA",f="SET_CLIENT_SUMMARY_DATA",p="FETCH_CLIENT",b="REMOVE_CLIENT",h="RESET_CLIENTDATA",E=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.from("".concat(t,":''"),"utf8").toString("base64"),r=l.c;return!1===n&&(r=l.b),r.headers.Authorization="Basic "+a,r},v=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=E(n().auth.currentUser.access_token),e.prev=1,e.next=4,u.a.get(l.a+"clients",a);case 4:if(200===(c=e.sent).status){e.next=7;break}throw new Error("Didnt get 200 response when fetching clients");case 7:t({type:d,clients:c.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),401===e.t0.response.status&&(t({type:h}),t({type:m.c}),i.a.push(s.j));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()},g=function(e){return console.log("fetching client data all again for client "+e),function(){var t=Object(c.a)(r.a.mark((function t(n,a){var c,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=E(a().auth.currentUser.access_token,!1),t.next=3,u.a.get(l.a+"clients/"+e,c);case 3:if(200===(o=t.sent).status){t.next=6;break}throw new Error("Didnt get 200 response when fetching clients");case 6:n({type:p,activeClient:o.data.client});case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},w=function(){return function(e,t){e({type:b})}},y=function(e){return function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=E(n().auth.currentUser.access_token),e.next=3,u.a.get(l.a+"client/summary",a);case 3:if(200===(c=e.sent).status){e.next=6;break}throw new Error("Didnt get 200 response when fetching client summary data");case 6:t({type:f,clients:c.data});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},O=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a,c){var o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=E(c().auth.currentUser.access_token),n.next=3,u.a.put(l.a+"clients/"+e,t,o);case 3:if(200===n.sent.status){n.next=6;break}throw new Error("Didnt get 200 response when updating client ");case 6:a(g(e));case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=E(a().auth.currentUser.access_token),t.next=3,u.a.delete(l.a+"clients/"+e,c);case 3:if(204===t.sent.status){t.next=6;break}throw new Error("Didnt get 204 response when deleting client ");case 6:i.a.push(s.c);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var c,o,m;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=E(a().auth.currentUser.access_token),o={name:e},t.next=4,u.a.post(l.a+"clients",o,c);case 4:if(201===(m=t.sent).status){t.next=7;break}throw new Error("Didnt get 201 response when creating client ");case 7:return i.a.push(s.c+"/"+m.data.id),t.abrupt("return",m.data.id);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},N=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a,c){var o,s,i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=E(c().auth.currentUser.access_token),s={clientid:e,name:t},n.next=4,u.a.post(l.a+"buckets",s,o);case 4:if(200===(i=n.sent).status){n.next=7;break}throw new Error("Didnt get 200 response when creating bucket, got: "+i.status);case 7:a(g(e));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=E(a().auth.currentUser.access_token),t.next=3,u.a.delete(l.a+"buckets/"+e.id,c);case 3:if(204===t.sent.status){t.next=6;break}throw new Error("Didnt get 204 response when updating bucket name");case 6:n(g(e.clientid));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},x=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a,c){var o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=E(c().auth.currentUser.access_token),n.next=3,u.a.put(l.a+"buckets/"+e.id,t,o);case 3:if(200===n.sent.status){n.next=6;break}throw new Error("Didnt get 200 response when updating bucket name");case 6:a(g(e.clientid));case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},S=function(e,t,n){return function(){var e=Object(c.a)(r.a.mark((function e(a,c){var o,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=E(c().auth.currentUser.access_token),s=c().clients.activeClient.id,i={note:t,date:n,clientid:s},e.next=5,u.a.post(l.a+"communications",i,o);case 5:if(201===e.sent.status){e.next=8;break}throw new Error("Didnt get 201 response when creating communication record");case 8:a(g(s));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},D=function(e,t){return function(){var e=Object(c.a)(r.a.mark((function e(n,a){var c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=E(a().auth.currentUser.access_token),o=a().clients.activeClient.id,e.next=4,u.a.delete(l.a+"communications/"+t,c);case 4:if(204===e.sent.status){e.next=7;break}throw new Error("Didnt get 204 response when deleting communication record");case 7:n(g(o));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},B=function(e,t,n){return function(){var a=Object(c.a)(r.a.mark((function a(c,o){var s,i,m;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=E(o().auth.currentUser.access_token),i=o().clients.activeClient.id,(m={})[t]=n,a.next=6,u.a.put(l.a+"hours/"+e,m,s);case 6:if(200===a.sent.status){a.next=9;break}throw new Error("Didnt get 200 response when updating an hours record");case 9:c(g(i));case 10:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},U=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var c,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=E(a().auth.currentUser.access_token),o=a().clients.activeClient.id,t.next=4,u.a.delete(l.a+"hours/"+e.id,c);case 4:if(204===t.sent.status){t.next=7;break}throw new Error("Didnt get 204 response when updating bucket name");case 7:n(g(o));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},I=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a,c){var o,s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=E(c().auth.currentUser.access_token),s={month:t.getMonth()+1,year:t.getFullYear(),bucketid:e.id},n.next=4,u.a.post(l.a+"hours",s,o);case 4:if(200===n.sent.status){n.next=7;break}throw new Error("Didnt get 200 response when creating an hours record");case 7:a(g(e.clientid));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}).call(this,n(490).Buffer)},217:function(e,t,n){"use strict";var a=n(422);t.a=Object(a.a)()},275:function(e,t,n){e.exports=n.p+"static/media/logbook-removebg-preview.e88accb7.png"},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c}));var a="https://logbook-4h6hsjvnca-ue.a.run.app/",r={headers:{Accept:"application/json"}},c={headers:{Accept:"application/json","Content-type":"application/json"}}},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return E}));var a=n(6),r=n.n(a),c=n(16),l=n(28),o=n(33),u=n.n(o),s=n(11),i="SET_USERDATA",m="SIGNED_IN",d="SIGNED_OUT",f=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(s.q)(n().auth.currentUser.access_token),e.next=3,u.a.get(l.a+"users",a);case 3:if(200===(c=e.sent).status){e.next=6;break}throw new Error("Didnt get 200 response when fetching users");case 6:t({type:i,users:c.data});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},p=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c,o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={email:e,password:t},n.next=3,u.a.post(l.a+"user/login",c,l.b);case 3:if(200===(o=n.sent).status){n.next=6;break}throw new Error("Didnt get 200 response when signing in");case 6:if(!1!==o.data.success){n.next=8;break}throw new Error(o.data.message);case 8:a({type:m,data:o.data});case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},b=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:d});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e,t,n){return function(){var a=Object(c.a)(r.a.mark((function a(c){var o,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o={username:e,email:t,password:n},a.next=3,u.a.post(l.a+"user/signup",o,l.b);case 3:if(200===(s=a.sent).status){a.next=6;break}throw new Error("Didnt get 200 response when signing in");case 6:if(!1!==s.data.success){a.next=8;break}throw new Error(s.data.message);case 8:c({type:m,data:s.data});case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},E=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a,c){var o,i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=Object(s.q)(c().auth.currentUser.access_token),i={userid:e,role:t},n.next=4,u.a.post(l.a+"user/updaterole",i,o);case 4:if(200===n.sent.status){n.next=7;break}throw new Error("Didnt get 200 response when updating a user role");case 7:a(f());case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}},465:function(e,t,n){e.exports=n(857)},7:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"k",(function(){return r})),n.d(t,"j",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return o})),n.d(t,"i",(function(){return u})),n.d(t,"l",(function(){return s})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return m})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return p}));var a="/",r="/signup",c="/signin",l="/clients",o="/clientadmin",u="/report",s="/summary",i="/owners",m="/new",d="/account",f="/admin",p="/logs"},854:function(e,t,n){},855:function(e,t,n){},857:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(31),l=n.n(c),o=(n(470),n(26)),u=n(35),s=n(6),i=n.n(s),m=n(16),d=n(7),f=n(29),p=n(9),b=function(){var e=Object(p.c)(),t=Object(u.f)(),n=function(){var n=Object(m.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(f.f());case 2:t.push(d.j);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return r.a.createElement("button",{className:"btn btn-warning",type:"button",onClick:n},"Sign Out")},h="Client Hours Logbook",E=n(77),v=n(223),g=n(425),w=n(275),y=n.n(w),O=function(e){var t=e.authUser;return r.a.createElement(E.a,{bg:"primary",expand:"lg",variant:"dark"},r.a.createElement(g.a,{style:{maxWidth:"88%"}},r.a.createElement(E.a.Brand,{href:d.e},r.a.createElement("img",{width:"70px",height:"auto",className:"img-responsive d-inline-block align-middle",src:y.a,alt:"logo"}),h),r.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(v.a,{className:"mr-auto"},r.a.createElement(o.b,{className:"btn btn-danger ml-1 mr-1",to:d.c},"Client Admin"),r.a.createElement(o.b,{className:"btn btn-danger ml-1 mr-1",to:d.f},"Logs"),r.a.createElement(o.b,{className:"btn btn-success ml-1 mr-1",to:d.d},"View Clients"),r.a.createElement(o.b,{className:"btn btn-success ml-1 mr-1",to:d.i},"Reports"),r.a.createElement(o.b,{className:"btn btn-success ml-1 mr-1",to:d.l},"Client Summary")),r.a.createElement(E.a.Brand,{to:"/"},"You are ",r.a.createElement("strong",null,t.username)),r.a.createElement(o.b,{className:"btn btn-primary",to:d.b},"Admin"),r.a.createElement(o.b,{className:"btn btn-primary",to:d.a},"Account"),r.a.createElement(b,null))))},k=function(e){e.authUser;return r.a.createElement(E.a,{bg:"primary",variant:"dark"},r.a.createElement(E.a.Brand,{to:"/"},h),r.a.createElement(v.a,{className:"mr-auto"},r.a.createElement(o.b,{className:"btn btn-success ml-1 mr-1",to:d.d},"Clients"),r.a.createElement(o.b,{className:"btn btn-success ml-1 mr-1",to:d.i},"Reports"),r.a.createElement(o.b,{className:"btn btn-success ml-1 mr-1",to:d.l},"Client Summary")),r.a.createElement(o.b,{className:"btn btn-primary",to:d.a},"Account"),r.a.createElement(b,null))},j=function(){return r.a.createElement(E.a,{bg:"primary",variant:"dark"},r.a.createElement(E.a.Brand,{as:o.b,to:d.j},r.a.createElement("img",{width:"70px",height:"auto",className:"img-responsive d-inline-block align-middle",src:y.a,alt:"logo"}),h),r.a.createElement(v.a,{className:"mr-auto"},r.a.createElement(o.b,{className:"btn btn-primary",to:d.j},"Sign In")))},N=function(){var e=Object(p.d)((function(e){return e.auth.currentUser}));return null===e||e===[]||void 0===e?r.a.createElement(j,null):3===e.role?r.a.createElement(O,{authUser:e}):1===e.role?r.a.createElement(k,{authUser:e}):r.a.createElement(j,null)},C=function(){var e=Object(u.f)(),t=Object(p.d)((function(e){return e.auth.currentUser}));return 3===t.role||1===t.role?r.a.createElement(S,{authUser:t}):(window.location.pathname===d.e&&e.push(d.j),r.a.createElement(x,null))},x=function(){return r.a.createElement("div",{className:"text-center mt-2"},r.a.createElement("h4",null,"Please sign in"))},S=function(e){var t=e.authUser;return r.a.createElement("div",{className:"text-center mt-5"},r.a.createElement("h1",null,"Hello ",r.a.createElement("strong",null,t.username)),r.a.createElement("h5",null,"Use the ",r.a.createElement("div",{className:"btn btn-success"},"Green")," links at the top to view client hours logbook information."),3===t.role&&r.a.createElement("h5",null,"Use the ",r.a.createElement("div",{className:"btn btn-danger"},"Red")," links to enter data since you are an admin."),r.a.createElement("h4",null,"Enjoy!"))},D=n(117),B=n(32),U=n(118),I=n(119),T=n(128),A=n(127),M=n(120),R={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},L=function(e){Object(T.a)(n,e);var t=Object(A.a)(n);function n(e){var a;return Object(U.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){var t=a.state,n=t.username,r=t.email,c=t.passwordOne;a.props.dispatch(f.g(n,r,c)).then((function(e){a.setState(Object(B.a)({},R)),a.props.history.push(d.d)})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(D.a)({},e.target.name,e.target.value))},a.state=Object(B.a)({},R),a}return Object(I.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.email,a=e.passwordOne,c=e.passwordTwo,l=e.error,o=a!==c||""===a||""===n||""===t;return r.a.createElement("div",{className:"text-center"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Full Name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{name:"email",value:n,onChange:this.onChange,type:"text",placeholder:"Email Address"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{name:"passwordOne",value:a,onChange:this.onChange,type:"password",placeholder:"Password"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{name:"passwordTwo",value:c,onChange:this.onChange,type:"password",placeholder:"Confirm Password"})),r.a.createElement("button",{className:"btn btn-primary",disabled:o,type:"submit"},"Sign Up"),l&&r.a.createElement("p",null,l.message)))}}]),n}(a.Component),P=function(){return r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(o.b,{to:d.k},"Sign Up"))},Y=Object(M.a)(u.g)(L),_=function(){var e=Object(p.c)();return r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"mt-2"},"Sign Up"),r.a.createElement(Y,{dispatch:e}),r.a.createElement("p",{className:"mt-3"},"Go back to ",r.a.createElement(o.b,{to:d.j},"Sign In")))},H=n(95),F=function(e){Object(T.a)(n,e);var t=Object(A.a)(n);function n(e){var a;return Object(U.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){a.setState({isLoading:!0}),a.props.signIn("admin","admin").then((function(){a.props.history.push(d.e)})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.state={isLoading:!1},a}return Object(I.a)(n,[{key:"render",value:function(){return!0===this.state.isLoading?r.a.createElement(H.a,{height:100,width:100,radius:5,color:"#4fa94d",ariaLabel:"ball-triangle-loading",wrapperClass:"d-block",wrapperStyle:"",visible:!0}):r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},r.a.createElement("h4",{style:{color:"white"},className:"mt-2"},"Use Demo Admin Account"))),"OR:")}}]),n}(a.Component),W=Object(M.a)(u.g)(Object(p.b)(null,(function(e){return{signIn:function(t,n){return e(f.e(t,n))}}}))(F)),q={email:"",password:"",error:null},G=function(e){Object(T.a)(n,e);var t=Object(A.a)(n);function n(e){var a;return Object(U.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){var t=a.state,n=t.email,r=t.password;a.props.signIn(n,r).then((function(){a.setState(Object(B.a)({},q)),a.props.history.push(d.e)})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(D.a)({},e.target.name,e.target.value))},a.state=Object(B.a)({},q),a}return Object(I.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.error,c=""===n||""===t;return r.a.createElement("div",{className:"mx-auto w-25 shadow p-3 mb-5 bg-white rounded"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{name:"password",value:n,onChange:this.onChange,type:"password",placeholder:"Password"})),r.a.createElement("button",{className:"btn btn-primary",disabled:c,type:"submit"},"Sign In"),a&&r.a.createElement("p",null,a.message)))}}]),n}(a.Component),V=Object(M.a)(u.g)(Object(p.b)(null,(function(e){return{signIn:function(t,n){return e(f.e(t,n))}}}))(G)),z=function(e){return r.a.createElement("div",{className:"text-center mt-3"},r.a.createElement(W,null),r.a.createElement(C,null),r.a.createElement(V,null),r.a.createElement(P,null))},J=function(){var e=Object(p.d)((function(e){return e.auth.currentUser})),t=3===e.role?"Admin":"Basic";return r.a.createElement("div",null,r.a.createElement("div",{className:"text-center"},r.a.createElement("h3",{className:"mt-3"},"Account: ",e.email),r.a.createElement("hr",null),r.a.createElement("h3",null,"Username: ",e.username),r.a.createElement("hr",null),r.a.createElement("h3",null,"Role: ",t)))},K=n(22),$=n(41),Q=n(38),X=n(39),Z=n(60),ee=n.n(Z),te=function(e){var t=e.users,n=e.promote,c=Object(p.c)(),l=Object(a.useState)(null),o=Object(K.a)(l,2),u=o[0],s=o[1],d=function(){var e=Object(m.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(f.h(t,n));case 2:console.log("Changed role of user with id: "+t+" to have role "+n),s(null);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(e,t,n){if("giveAdmin"===n){var a=r.a.createElement(ee.a,{success:!0,showCancel:!0,confirmBtnText:"Yes",confirmBtnBsStyle:"success",title:"Are you sure?",onConfirm:function(){return d(e,t)},onCancel:function(){return s(null)},focusCancelBtn:!1,focusConfirmBtn:!1},"This will make this user an admin.");s(a)}else{var c=r.a.createElement(ee.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes",confirmBtnBsStyle:"warning",title:"Are you sure?",onConfirm:function(){return d(e,t)},onCancel:function(){return s(null)},focusCancelBtn:!1,focusConfirmBtn:!1},"This will remove this user as an admin.");s(c)}};return t?r.a.createElement("div",null,u,r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"theat-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"UserId"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"Username"),r.a.createElement("th",{scope:"col"},"Action"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.username),!n&&r.a.createElement("td",null,r.a.createElement($.a,{placement:"right",mouseEnterDelay:.5,mouseLeaveDelay:.1,trigger:"hover",overlay:r.a.createElement("div",null,"Demote")},r.a.createElement("button",{onClick:function(){return b(e.id,"BASIC","removeAdmin")},className:"btn btn-secondary m-1",type:"submit"},r.a.createElement(Q.a,{style:{cursor:"pointer"},icon:X.d})))),n&&r.a.createElement("td",null,r.a.createElement($.a,{placement:"right",mouseEnterDelay:.5,mouseLeaveDelay:.1,trigger:"hover",overlay:r.a.createElement("div",null,"Promote")},r.a.createElement("button",{onClick:function(){return b(e.id,"ADMIN","giveAdmin")},className:"btn btn-secondary m-1",type:"submit"},r.a.createElement(Q.a,{style:{cursor:"pointer"},icon:X.e})))))}))))):r.a.createElement("h5",null,"No users in this category")},ne=function(){var e=Object(p.c)(),t=Object(p.d)((function(e){return e.auth.adminUsers})),n=Object(p.d)((function(e){return e.auth.users})),c=Object(a.useState)(!1),l=Object(K.a)(c,2),o=l[0],u=l[1],s=Object(a.useState)(!1),i=Object(K.a)(s,2),m=i[0],d=i[1];return Object(a.useEffect)((function(){u(!0),0===n.length&&e(f.d()),d(n.filter((function(e){return 3!==e.role}))),u(!1)}),[e,n]),r.a.createElement("div",{className:"col-md-10 text-center"},r.a.createElement("h1",null,"Admin Users (Read and write access)"),o&&r.a.createElement("div",null,"Loading ..."),r.a.createElement(te,{users:t,promote:!1}),r.a.createElement("h1",null,"Basic Users (Read only access)"),r.a.createElement(te,{users:m,promote:!0}))},ae=n(33),re=n.n(ae),ce=n(28),le=n(11),oe=n(432),ue=n.n(oe),se=function(){var e=Object(p.d)((function(e){return e.auth.currentUser.access_token})),t=Object(a.useState)([]),n=Object(K.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)(1),u=Object(K.a)(o,2),s=u[0],d=u[1],f=Object(a.useState)(20),b=Object(K.a)(f,2),h=b[0],E=b[1],v=Object(a.useState)(20),g=Object(K.a)(v,2),w=g[0],y=g[1],O=function(){var t=Object(m.a)(i.a.mark((function t(n){var a,r,c,o=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=o.length>1&&void 0!==o[1]?o[1]:h,void 0!==n){t.next=3;break}return t.abrupt("return");case 3:return r=Object(le.q)(e),t.next=6,re.a.get(ce.a+"logs?sort=-log_time&page="+n+"&per-page="+a,r);case 6:if(200===(c=t.sent).status){t.next=9;break}throw new Error("Didnt get 200 response when fetching users");case 9:y(parseInt(c.headers["x-pagination-total-count"])),E(parseInt(c.headers["x-pagination-per-page"])),d(n),l(c.data);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(e){e>0&&e<=1e3&&O(s,e)},j=function(){return r.a.createElement("div",null,r.a.createElement("h5",null,"Logs per page"),r.a.createElement("button",{onClick:function(){return k(20)},className:"btn m-1 "+(20===h?"btn-success":"btn-secondary"),type:"submit"},20),r.a.createElement("button",{onClick:function(){return k(50)},className:"btn m-1 "+(50===h?"btn-success":"btn-secondary"),type:"submit"},"50"),r.a.createElement("button",{onClick:function(){return k(100)},className:"btn m-1 "+(100===h?"btn-success":"btn-secondary"),type:"submit"},"100"),r.a.createElement("button",{onClick:function(){return k(1e3)},className:"btn m-1 "+(1e3===h?"btn-success":"btn-secondary"),type:"submit"},"1000"))};return Object(a.useEffect)((function(){O(1,20).then((function(){return console.log("fetched logs")}))}),[]),0===c.length?r.a.createElement("div",{className:"col-md-10 text-center"},r.a.createElement("h1",null,"Loading logs...")):r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",null,"Logs"),r.a.createElement("table",{style:{width:"95%"}},r.a.createElement("thead",null,r.a.createElement("tr",{style:{borderBottom:"1px solid black"}},r.a.createElement("th",{style:{minWidth:"250px"}},"Date"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Message"))),r.a.createElement("tbody",null,c.map((function(e){return r.a.createElement("tr",{className:"text-left",key:e.id},r.a.createElement("td",{className:"logtablecell"},e.date),r.a.createElement("td",{className:"logtablecell"},e.category),r.a.createElement("td",{className:"logtablecell"},e.message))})))),r.a.createElement("div",null,r.a.createElement(ue.a,{activePage:s,itemsCountPerPage:h,totalItemsCount:w,pageRangeDisplayed:5,onChange:O,itemClass:"page-item",linkClass:"page-link"}),r.a.createElement(j,null)))},ie=n(866),me=n(455),de=function(){var e=Object(a.useRef)(!0),t=Object(a.useState)(),n=Object(K.a)(t,2),c=n[0],l=n[1],o=Object(p.d)((function(e){return e.clients.clients})),s=Object(p.d)((function(e){return e.auth.adminUsers}));Object(a.useEffect)((function(){var t=localStorage.getItem("filterUserId");return void 0!==t&&null!==t&&""!==t&&("NOOWNER"!==t&&(t=parseInt(t)),l(t)),function(){e.current=!1}}),[]);var i=function(){var e=function(e){localStorage.setItem("filterUserId",e),l(e)};return r.a.createElement(ie.a,{id:"dropdown-basic-button",variant:"secondary",className:"m-3 text-center",title:"Filter by owner",size:"sm"},r.a.createElement(me.a.Item,{onClick:function(){return e("")}},"Reset"),r.a.createElement(me.a.Divider,null),s&&s.map((function(t){return r.a.createElement(me.a.Item,{key:t.id,onClick:function(){return e(t.id)}},t.username)})),r.a.createElement(me.a.Item,{onClick:function(){return e("NOOWNER")}},"No owner"))},m=Object(u.f)(),f=function(){var e=d.d;return window.location.pathname.substr(0,d.i.length)===d.i&&(e=d.i),window.location.pathname.substr(0,d.c.length)===d.c&&(e=d.c),e},b=function(){return r.a.createElement(v.a.Item,null,r.a.createElement(v.a.Link,{onClick:function(){m.push(d.c+"/new")}},"Add new client"))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{className:"col-sm-12 d-md-block bg-light sidebar",activeKey:"/home",onSelect:function(e){return alert("selected ".concat(e))}},r.a.createElement(i,null),c&&function(){if("NOOWNER"===c)return r.a.createElement("div",{className:"text-center"},r.a.createElement("em",null,"Clients with no owner"));if(0===s.length)return!0;var e=s.filter((function(e){return e.id===c}))[0];return!e||r.a.createElement("div",{className:"text-center"},r.a.createElement("em",null,"Filtering by ",e.username))}(),r.a.createElement("hr",null),r.a.createElement("div",{className:"sidebar-sticky"}),0===o.length&&r.a.createElement(H.a,{height:100,width:100,radius:5,color:"#4fa94d",ariaLabel:"ball-triangle-loading",wrapperClass:"",wrapperStyle:"",visible:!0}),o&&o.filter((function(e){return"NOOWNER"===c?null===e.ownerid||void 0===e.ownerid:!c||e.ownerid===c})).map((function(e){return r.a.createElement(v.a.Item,{key:e.id},r.a.createElement(v.a.Link,{onClick:function(){return function(e){m.push(f()+"/"+e.id)}(e)}},e.name))})),r.a.createElement(v.a.Item,null,r.a.createElement(v.a.Link,{onClick:function(){m.push(d.h)}},"All clients and owners")),f()===d.c&&r.a.createElement(b,null)))},fe=n(867),pe=n(868),be=n(45),he=n(85),Ee=function(){var e=Object(p.c)();return r.a.createElement("div",{className:"col-8"},r.a.createElement("h1",null,"New client"),r.a.createElement(be.d,{initialValues:{name:""},validationSchema:he.a({name:he.b().required("Required to enter a name")}),onSubmit:function(){var t=Object(m.a)(i.a.mark((function t(n,a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,a.setSubmitting)(!0),e(le.r()),t.next=5,e(le.h(n.name));case 5:return r=t.sent,t.next=8,e(le.p());case 8:return t.next=10,e(le.n(r));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit,n=e.isSubmitting;return r.a.createElement(be.c,{className:"col-12 text-center container",onSubmit:t},r.a.createElement("div",{className:"form-group"},r.a.createElement(be.b,{className:"form-control col-12 m-1",type:"text",name:"name",placeholder:"Name of client"}),r.a.createElement(be.a,{name:"name"})),r.a.createElement("button",{className:"btn btn-primary m-1",type:"submit",disabled:n},"Submit"))})))},ve=function(e){var t=e.clientID,n=e.onFinishSubmission,a=(e.cancelForm,Object(p.c)());return r.a.createElement("div",{className:"col-10"},r.a.createElement("h1",null,"New bucket"),r.a.createElement(be.d,{initialValues:{name:""},validationSchema:he.a({name:he.b().required("Required to enter a name")}),onSubmit:function(){var e=Object(m.a)(i.a.mark((function e(r,c){var l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=c.setSubmitting)(!0),e.next=4,a(le.g(t,r.name));case 4:l(!1),n();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit,n=e.isSubmitting;return r.a.createElement(be.c,{className:"col-10 text-center container",onSubmit:t},r.a.createElement("div",{className:"form-group"},r.a.createElement(be.b,{className:"form-control col-12 m-1",type:"text",name:"name",placeholder:"Name of bucket"}),r.a.createElement(be.a,{name:"name"})),r.a.createElement("button",{className:"btn btn-primary m-1",type:"submit",disabled:n},"Submit"))})),r.a.createElement("button",{onClick:n,className:"btn btn-danger m-1",type:"submit"},"Cancel"))},ge=function(e){var t=e.clientData,n=e.onFinishSubmission,c=e.onDeleteClient,l=e.owner,o=Object(a.useState)(null),u=Object(K.a)(o,2),s=u[0],i=u[1],m=Object(p.d)((function(e){return e.auth.adminUsers})),d=Object(p.c)();return r.a.createElement("div",{className:"col-10"},r.a.createElement("h1",null,"Edit Client ",t.name),s,r.a.createElement(be.d,{initialValues:{name:t.name,support:t.support,owner:l},validationSchema:he.a({name:he.b().required("Required to enter a name")}),onSubmit:function(e,a){var r=a.setSubmitting;r(!0);var c={name:e.name,support:e.support};"string"===typeof e.owner&&""!==e.owner&&("0"!==e.owner?c.ownerid=Number(e.owner):c.ownerid=null),d(le.t(t.id,c)),r(!1),n()}},(function(e){var n=e.handleSubmit,a=e.isSubmitting;return r.a.createElement(be.c,{className:"col-10 text-center container",onSubmit:n},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:"m-1 mt-2"},"Client Name"),r.a.createElement(be.b,{className:"form-control col-8 m-1",type:"text",name:"name",placeholder:t.name}),r.a.createElement(be.a,{name:"name"})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"support",className:"m-1 mt-2"},"Support hours per month"),r.a.createElement(be.b,{className:"form-control col-8 m-1",type:"text",name:"support",placeholder:t.support})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"owner",className:"m-1 mt-2"},"Set Owner"),r.a.createElement(be.b,{as:"select",name:"owner",style:{display:"block"}},m&&m.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id,label:e.username})})),r.a.createElement("option",{value:0,label:"No owner"}))),r.a.createElement("button",{className:"btn btn-primary m-1",type:"submit",disabled:a},"Submit"))})),r.a.createElement("button",{onClick:n,className:"btn btn-secondary m-1",type:"submit"},"Cancel"),r.a.createElement("button",{onClick:function(){return function(){var e=r.a.createElement(ee.a,{danger:!0,showCancel:!0,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return c()},onCancel:function(){return i(null)},focusCancelBtn:!1,focusConfirmBtn:!1},"You will not be able to recover any data for this client!");i(e)}()},className:"btn btn-danger m-1",type:"submit"},"Delete client"))},we=n(156),ye=function(e){var t=e.data,n=e.updateData,c=e.onRemoveMonth,l=e.readOnly,o={Cell:function(e){var t=e.value,n=e.row.values,c=e.column.id,l=e.updateMyData;null===t&&(t="");var o=Object(a.useState)(t),u=Object(K.a)(o,2),s=u[0],i=u[1];Object(a.useEffect)((function(){i(t)}),[t]);var m="150px";return"in"!==c&&"out"!==c||(m="60px"),r.a.createElement("input",{value:s,onChange:function(e){i(e.target.value)},onBlur:function(){return l(n,c,s)},style:{width:m}})},NonEditCell:function(e){var t=e.cell;return 0===t.value||t.value?"remaining"===t.column.id&&t.value%1!==0?t.value.toFixed(2):t.value:null},NonEditCellMonth:function(e){var t=e.cell;return t.value?new Date(2020,t.value-1,15).toLocaleString("default",{month:"long"}):null},EditMultiline:function(e){var t=e.value,n=e.row.values,c=e.column.id,l=e.updateMyData;null===t&&(t="");var o=Object(a.useState)(t),u=Object(K.a)(o,2),s=u[0],i=u[1];return Object(a.useEffect)((function(){i(t)}),[t]),r.a.createElement("textarea",{className:"form-control",onChange:function(e){i(e.target.value)},onBlur:function(){return l(n,c,s)},value:s,placeholder:"Write a description",style:{height:"2.5rem"}})}},u=r.a.useMemo((function(){return[{Header:"Month",accessor:"month"},{Header:"Year",accessor:"year"},{Header:"Invoice",accessor:"invoice"},{Header:"Description",accessor:"description"},{Header:"In",accessor:"in"},{Header:"Out",accessor:"out"},{Header:"Balance",accessor:"remaining"}]}),[]),s=Object(we.useTable)({columns:u,data:t,defaultColumn:o,updateMyData:function(e,a,r){var c=t.filter((function(t){return t.month===e.month&&t.year===e.year}))[0];void 0!==c&&c?c[a]===r||""===r&&null===c[a]?console.log("no need to update, nothing changed"):n(c.id,a,r):console.log("trying to update a month that could not be found! - this should not be possible!")}}),i=s.getTableProps,m=s.getTableBodyProps,d=s.headerGroups,f=s.rows,p=s.prepareRow,b={borderBottom:"solid 3px red",background:"aliceblue",color:"black",fontWeight:"bold"};return r.a.createElement("table",Object.assign({},i(),{style:{border:"solid 1px black",width:"98%"}}),r.a.createElement("thead",null,d.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",Object.assign({},e.getHeaderProps(),{style:b}),e.render("Header"))})),!l&&r.a.createElement("th",{style:b},"Action"))}))),r.a.createElement("tbody",m(),f.map((function(e){p(e);var t="rowTouched";return 1!==e.original.touched&&(t="rowNotTouched"),r.a.createElement("tr",Object.assign({},e.getRowProps(),{className:t}),e.cells.map((function(e){return"month"===e.column.id?r.a.createElement("td",Object.assign({},e.getCellProps(),{className:"bucketcell"}),e.render("NonEditCellMonth")):"year"===e.column.id||"remaining"===e.column.id||!0===l?r.a.createElement("td",Object.assign({},e.getCellProps(),{className:"bucketcell"}),e.render("NonEditCell")):"description"===e.column.id?r.a.createElement("td",Object.assign({},e.getCellProps(),{className:"bucketcell",style:{width:"400px"}}),e.render("EditMultiline")):r.a.createElement("td",Object.assign({},e.getCellProps(),{className:"bucketcell"}),e.render("Cell"))})),!l&&f.length>1&&r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return c(e.original)},className:"btn btn-secondary m-1",type:"submit"},r.a.createElement(Q.a,{style:{cursor:"pointer"},icon:X.h}))))}))))},Oe=n(439),ke=n.n(Oe),je=n(440),Ne=n.n(je),Ce=(n(225),n(203)),xe=n.n(Ce),Se=(n(292),function(e){var t=e.handleChangeMonth,n=e.displayDate;return r.a.createElement(xe.a,{selected:n,onChange:t,dateFormat:"MM/yyyy",showMonthYearPicker:!0})}),De=function(e){var t=e.bucket,n=e.onArchiveBucket,c=e.onRemoveMonth,l=e.onAddMonth,o=e.handleOnUpdateHoursData,u=e.onClickMarkPrepaid,s=e.handleUpdateBucketName,d=Object(a.useRef)(!0),f=Object(a.useState)(null),p=Object(K.a)(f,2),b=p[0],h=p[1],E=Object(a.useState)(new Date),v=Object(K.a)(E,2),g=v[0],w=v[1];Object(a.useEffect)((function(){return function(){d.current=!1}}),[]);var y=Object(a.useRef)(t.name),O=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.current!==t.name){e.next=3;break}return console.log("bucket name unchanged, not updating"),e.abrupt("return");case 3:return e.next=5,s(t,{name:y.current});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h5",{className:"ml-3"},r.a.createElement(ke.a,{html:y.current,onChange:function(e){y.current=Ne()(e.target.value)},onBlur:O,spellCheck:!1})),b,r.a.createElement("div",{className:"float-left row"},r.a.createElement("div",{className:"col-7 mt-2"},r.a.createElement(Se,{handleChangeMonth:function(e){w(e)},displayDate:g})),r.a.createElement($.a,{placement:"left",mouseEnterDelay:.5,mouseLeaveDelay:.1,trigger:"hover",overlay:r.a.createElement("div",null,"Add month")},r.a.createElement("button",{onClick:function(){return l(t,g)},className:"btn btn-success m-1 ml-5 float-left",style:{width:"50px"},type:"submit"},r.a.createElement(Q.a,{style:{cursor:"pointer"},icon:X.g}))),r.a.createElement($.a,{placement:"right",mouseEnterDelay:.5,mouseLeaveDelay:.1,trigger:"hover",overlay:r.a.createElement("div",null,"Archive bucket")},r.a.createElement("button",{onClick:function(){return function(e){var t=r.a.createElement(ee.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes, archive it!",confirmBtnBsStyle:"warning",title:"Are you sure?",onConfirm:function(){return n(e)},onCancel:function(){return h(null)},focusCancelBtn:!1,focusConfirmBtn:!1},"This will archive the bucket. It won't appear on the main page or in reports. You can undo this action later.");h(t)}(t)},className:"btn btn-warning m-1 float-left",style:{width:"50px"},type:"submit"},r.a.createElement(Q.a,{style:{cursor:"pointer"},icon:X.a})))),r.a.createElement($.a,{placement:"right",mouseEnterDelay:.5,mouseLeaveDelay:.1,trigger:"hover",overlay:r.a.createElement("div",null,"Mark bucket as prepaid")},r.a.createElement("button",{onClick:function(){return u(t)},className:"btn btn-info m-1 mr-3 float-right",type:"submit"},r.a.createElement(Q.a,{style:{cursor:"pointer"},icon:X.f}))),1===t.prepaid&&r.a.createElement($.a,{placement:"right",mouseEnterDelay:.5,mouseLeaveDelay:.1,trigger:"hover",overlay:r.a.createElement("div",null,"This bucket is marked as prepaid")},r.a.createElement("button",{className:"btn btn-success m-1 float-right",type:"submit"},r.a.createElement(Q.a,{style:{cursor:"pointer"},icon:X.c}))),r.a.createElement(ye,{data:t.hours,updateData:o,onRemoveMonth:c}))},Be=function(e){var t=e.activeClient;return r.a.createElement("div",null,t.support&&r.a.createElement("h5",null,t.support),!t.support&&r.a.createElement("h5",null,t.name," has no support hours data set."))},Ue=function(e){var t=e.handleChangeDate,n=e.displayDate;return r.a.createElement(xe.a,{selected:n,onChange:t})},Ie=n(207),Te=n.n(Ie),Ae=function(e){var t=e.clientID,n=e.clientComms,c=e.editable,l=Object(a.useState)(""),o=Object(K.a)(l,2),u=o[0],s=o[1],d=Object(a.useState)(new Date),f=Object(K.a)(d,2),b=f[0],h=f[1],E=Object(a.useRef)(!0),v=Object(p.c)();Object(a.useEffect)((function(){return function(){E.current=!1}}),[]),Object(a.useEffect)((function(){s(""),h(new Date)}),[t]);var g=function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.floor(b.getTime()/1e3),e.next=3,v(le.f(n,u,t));case 3:console.log("stored a new communication with text "+u+t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(le.l(n,t));case 2:console.log("removed a communication with id "+t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h5",null,"Communications notes"),c&&r.a.createElement("div",null,r.a.createElement("div",{className:"col-2",style:{width:"50px"}},r.a.createElement(Ue,{handleChangeDate:function(e){h(e)},displayDate:b})),r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"form-group row text-center"},r.a.createElement("input",{className:"form-control m-1",placeholder:"Your text here",value:u,onChange:function(e){s(e.target.value)}}),r.a.createElement($.a,{placement:"right",mouseEnterDelay:.5,mouseLeaveDelay:.1,trigger:"hover",overlay:r.a.createElement("div",null,"Add comms record")},r.a.createElement("button",{onClick:function(){return g()},className:"btn btn-success m-1",style:{width:"50px"},type:"submit"},r.a.createElement(Q.a,{style:{cursor:"pointer"},icon:X.g})))))),r.a.createElement("table",{style:{border:"solid 1px black",width:"98%"}},r.a.createElement("thead",null,r.a.createElement("tr",{style:{borderBottom:"solid 3px red",background:"aliceblue",color:"black",fontWeight:"bold"}},r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Note"))),r.a.createElement("tbody",null,n&&n.map((function(e){var t=Te()(new Date(1e3*e.date)).format("MMM Do YYYY");return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,t),r.a.createElement("td",null,e.note),c&&r.a.createElement("td",null,r.a.createElement($.a,{placement:"right",mouseEnterDelay:.5,mouseLeaveDelay:.1,trigger:"hover",overlay:r.a.createElement("div",null,"Delete")},r.a.createElement("button",{onClick:function(){return w(e.id)},className:"btn btn-secondary m-1",type:"submit"},r.a.createElement(Q.a,{style:{cursor:"pointer"},icon:X.h})))))})))))},Me=function(e){var t=e.clientID,n=e.bucket,c=e.buttons,l=Object(a.useState)(null),o=Object(K.a)(l,2),u=o[0],s=o[1],d=Object(p.c)(),f=Object(a.useMemo)((function(){return n.hours.map((function(e){return{month:e.month,year:e.year,invoice:e.invoice,description:e.description,in:e.in,out:e.out,remaining:e.remaining,touched:e.touched}}))}),[n.hours]),b=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(le.j(t));case 2:console.log("Deleted bucket with name "+t.name);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(le.s(n,{archived:0}));case 2:console.log("Unarchived bucket with name "+n.name);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h5",{className:"ml-3"},n.name),r.a.createElement(ye,{data:f,readOnly:!0}),c&&u,c&&r.a.createElement("div",null,r.a.createElement($.a,{placement:"left",mouseEnterDelay:.5,mouseLeaveDelay:.1,trigger:"hover",overlay:r.a.createElement("div",null,"Delete this bucket")},r.a.createElement("button",{onClick:function(){return function(e){var t=r.a.createElement(ee.a,{danger:!0,showCancel:!0,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return b(e)},onCancel:function(){return s(null)},focusCancelBtn:!1,focusConfirmBtn:!1},"You will not be able to recover this bucket data!");s(t)}(n)},className:"btn btn-danger m-1",type:"submit"},r.a.createElement(Q.a,{style:{cursor:"pointer"},icon:X.h}))),r.a.createElement($.a,{placement:"right",mouseEnterDelay:.5,mouseLeaveDelay:.1,trigger:"hover",overlay:r.a.createElement("div",null,"Restore this bucket")},r.a.createElement("button",{onClick:function(){return function(e,t){var n=r.a.createElement(ee.a,{success:!0,showCancel:!0,confirmBtnText:"Yes, restore it!",confirmBtnBsStyle:"success",title:"Are you sure?",onConfirm:function(){return h(e,t)},onCancel:function(){return s(null)},focusCancelBtn:!1,focusConfirmBtn:!1},"This will restore this bucket to the main page again.");s(n)}(t,n)},className:"btn btn-success m-1",type:"submit"},r.a.createElement(Q.a,{style:{cursor:"pointer"},icon:X.i})))))},Re=function(e){var t=e.buckets,n=e.onBackToClientPage,a=e.clientID,c=e.restorable;return r.a.createElement("div",null,r.a.createElement("h2",null,"This is the archive page"),r.a.createElement("div",{className:"col-8"},t&&t.map((function(e){return 1===e.archived?r.a.createElement("div",{key:e.bucketID,className:"singlebucket"},r.a.createElement(Me,{bucket:e,clientID:a,buttons:c}),r.a.createElement("hr",null)):null}))),r.a.createElement($.a,{placement:"right",mouseEnterDelay:.5,mouseLeaveDelay:.1,trigger:"hover",overlay:r.a.createElement("div",null,"Back to client page")},r.a.createElement("button",{onClick:n,className:"btn btn-success m-1",type:"submit"},r.a.createElement(Q.a,{style:{cursor:"pointer"},icon:X.b}))))},Le=function(e){var t=e.owner;return t?r.a.createElement($.a,{placement:"top",mouseEnterDelay:.5,mouseLeaveDelay:.1,trigger:"hover",overlay:r.a.createElement("div",null,"Owner")},r.a.createElement("div",{className:"float-right bg-success p-2 rounded ownerbutton"},r.a.createElement("em",null,t.username))):r.a.createElement($.a,{placement:"top",mouseEnterDelay:.5,mouseLeaveDelay:.1,trigger:"hover",overlay:r.a.createElement("div",null,"Owner")},r.a.createElement("div",{className:"float-right bg-success p-2 rounded ownerbutton"},r.a.createElement("em",null,"No owner")))},Pe=function(e){var t=e.clientID,n=Object(a.useState)(!1),c=Object(K.a)(n,2),l=c[0],o=c[1],s=Object(a.useState)(!1),f=Object(K.a)(s,2),b=f[0],h=f[1],E=Object(a.useState)(!1),v=Object(K.a)(E,2),g=v[0],w=v[1],y=Object(a.useRef)(!0),O=Object(p.d)((function(e){return e.clients.activeClient})),k=Object(a.useState)(""),j=Object(K.a)(k,2),N=j[0],C=j[1],x=Object(p.c)();Object(a.useEffect)((function(){x(le.r()),o(!1),h(!1),w(!1),x(le.n(t))}),[t,x]),Object(a.useEffect)((function(){return function(){y.current=!1}}),[]),Object(a.useEffect)((function(){null!==O.note?C(O.note):C("")}),[O]);var S=function(){o(!1),h(!1),w(!1)},D=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(le.k(t));case 2:return e.next=4,x(Object(le.r)());case 4:return e.next=6,x(le.p());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=Object(u.f)(),U=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(le.s(t,{archived:1}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(le.m(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(le.i(t,n));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(e,t,n){x(le.u(e,t,n))},M=function(){var e=Object(m.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,0===t.prepaid&&(n=1),e.next=4,x(le.s(t,{prepaid:n}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(le.s(t,n));case 2:console.log("bucket updated to have name "+n.name);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return 0===Object.keys(O).length&&O.constructor===Object?r.a.createElement(H.a,{height:100,width:100,radius:5,color:"#4fa94d",ariaLabel:"ball-triangle-loading",wrapperClass:"",wrapperStyle:"",visible:!0}):l?r.a.createElement("div",null,r.a.createElement(ve,{clientID:t,onFinishSubmission:S})):b?r.a.createElement("div",null,r.a.createElement(ge,{onDeleteClient:D,clientData:O,onFinishSubmission:S,owner:O.owner})):g?r.a.createElement(Re,{buckets:O.buckets,onBackToClientPage:S,clientID:t,restorable:!0}):r.a.createElement("div",null,r.a.createElement("div",{className:"float-right",style:{width:"200px"}},r.a.createElement("button",{onClick:function(){w(!0)},className:"btn btn-info m-1",type:"submit"},"View Bucket Archive"),r.a.createElement("button",{onClick:function(){o(!0)},className:"btn btn-primary m-1",type:"submit"},"Create a bucket"),r.a.createElement("button",{onClick:function(){h(!0)},className:"btn btn-secondary m-1",type:"submit"},"Edit Client"),r.a.createElement("button",{onClick:function(){B.push(d.d+"/"+t)},className:"btn btn-info m-1",type:"submit"},"To Client Page")),r.a.createElement("div",{className:"card mt-3 mb-3"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,O.name,r.a.createElement(Le,{owner:O.owner})),0!==Object.keys(O).length&&r.a.createElement("div",{className:"float-left"},r.a.createElement("i",null,"Last updated by ",O.lastupdated.username," - ",O.lastupdated.date))),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},r.a.createElement(Be,{activeClient:O})))),r.a.createElement("div",null,r.a.createElement("textarea",{className:"form-control",onChange:function(e){C(e.target.value)},onBlur:function(e){O.note!==N?x(le.t(t,{note:N})):console.log("no change to client note, not updating")},value:N,placeholder:"Notes",style:{height:"7rem",width:"50rem"},autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"},O.buckets.map((function(e){return 0===e.archived?r.a.createElement("div",{key:e.id,className:"singlebucket"},r.a.createElement(De,{bucket:e,onArchiveBucket:U,onRemoveMonth:I,onAddMonth:T,handleOnUpdateHoursData:A,onClickMarkPrepaid:M,handleUpdateBucketName:R}),r.a.createElement("hr",null)):null}))),r.a.createElement("div",{className:"col-4"},r.a.createElement(Ae,{clientID:t,clientComms:O.communication,editable:!0})))))},Ye=function(e){var t=e.type;return r.a.createElement("div",null,r.a.createElement("h1",null,"No client selected"),r.a.createElement("h4",null,"Please select a client on the left to ",t," month by month hours data."))},_e=function(){var e=Object(a.useState)(null),t=Object(K.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(!1),o=Object(K.a)(l,2),s=o[0],i=o[1],m=Object(p.c)(),b=Object(p.d)((function(e){return e.auth.currentUser})),h=Object(p.d)((function(e){return e.clients.activeClient})),E=Object(u.f)(),v=window.location.pathname.split(d.c+"/").pop(),w=!1,y=!1;window.location.pathname===d.c+d.g&&(w=!0),window.location.pathname===d.c&&(y=!0),Object(a.useEffect)((function(){b&&(m(le.p()),m(f.d()))}),[m,b,h]);var O=r.a.createElement(ee.a,{warning:!0,showCancel:!0,confirmBtnText:"Client read only page",confirmBtnBsStyle:"warning",cancelBtnText:"Yes, I want to edit",title:"Are you sure?",onCancel:function(){return console.log("confirmed to edit this client, log this?"),i(!0),void c(null)},onConfirm:function(){return c(null),void E.push(d.d+"/"+h.id)},focusCancelBtn:!1,focusConfirmBtn:!1},"You are not the owner of this client. Do you want to edit the data anyway?");return!1===y&&!1===s&&null===n&&b&&0!==Object.keys(h).length&&h.ownerid!==b.id&&null!==h.ownerid&&c(O),r.a.createElement("div",null,n,r.a.createElement(g.a,{fluid:!0},r.a.createElement(fe.a,{className:"mainRow"},r.a.createElement(pe.a,{xs:5,md:2,sm:3,id:"sidebar-wrapper"},r.a.createElement(de,null)),r.a.createElement(pe.a,{style:{overflow:"scroll",minWidth:"1100px"},xs:5,md:10,sm:9},y&&r.a.createElement(Ye,{type:"enter"}),w&&r.a.createElement(Ee,null),!w&&!y&&r.a.createElement(Pe,{clientID:v})))))},He=function(e){var t=e.clientID,n=Object(a.useState)(!1),c=Object(K.a)(n,2),l=c[0],o=c[1],s=Object(a.useRef)(!0),i=Object(u.f)(),m=Object(p.c)(),f=Object(p.d)((function(e){return e.clients.activeClient})),b=Object(p.d)((function(e){return e.auth.currentUser}));Object(a.useEffect)((function(){o(!1)}),[t]),Object(a.useEffect)((function(){return function(){s.current=!1}}),[]),Object(a.useEffect)((function(){m(le.r()),m(le.n(t))}),[t,m]);if(l)return r.a.createElement(Re,{buckets:f.buckets,onBackToClientPage:function(){o(!1)},clientID:t,restorable:!1});var h=function(){i.push(d.c+"/"+t)},E=function(){return r.a.createElement("button",{onClick:h,className:"btn btn-danger m-1 float-right",type:"submit"},"To Client Admin")};return 0===Object.keys(f).length&&f.constructor===Object?r.a.createElement(H.a,{height:100,width:100,radius:5,color:"#4fa94d",ariaLabel:"ball-triangle-loading",wrapperClass:"",wrapperStyle:"",visible:!0}):r.a.createElement("div",null,r.a.createElement("div",{className:"float-right",style:{width:"200px"}},r.a.createElement("button",{onClick:function(){o(!0)},className:"btn btn-info m-1 float-right",type:"submit"},"View Bucket Archive"),r.a.createElement("button",{onClick:function(){i.push(d.i+"/"+t)},className:"btn btn-info m-1 float-right",type:"submit"},"To Report"),3===b.role&&r.a.createElement(E,null)),r.a.createElement("div",{className:"card mt-3"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,f.name,r.a.createElement(Le,{owner:f.owner})),0!==Object.keys(f).length&&r.a.createElement("div",{className:"float-left"},r.a.createElement("i",null,"Last updated by ",f.lastupdated.username," - ",f.lastupdated.date))),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},r.a.createElement(Be,{activeClient:f})),r.a.createElement("div",null,f.note))),r.a.createElement("hr",null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"},f.buckets&&f.buckets.map((function(e){return 0===e.archived?r.a.createElement("div",{key:e.id,className:"singlebucket"},r.a.createElement(Me,{clientID:t,bucket:e,buttons:!1}),r.a.createElement("hr",null)):null}))),r.a.createElement("div",{className:"col-4"},r.a.createElement(Ae,{clientID:t,clientComms:f.communication,editable:!1})))))},Fe=function(){var e=Object(p.c)(),t=window.location.pathname.split(d.d+"/").pop(),n=!1;return window.location.pathname===d.d&&(n=!0),Object(a.useEffect)((function(){e(le.p()),e(f.d())}),[e]),r.a.createElement("div",null,r.a.createElement(g.a,{fluid:!0},r.a.createElement(fe.a,{className:"mainRow"},r.a.createElement(pe.a,{xs:5,md:2,sm:3,id:"sidebar-wrapper"},r.a.createElement(de,null)),r.a.createElement(pe.a,{style:{overflow:"scroll",minWidth:"1100px"},xs:5,md:10,sm:9},n&&r.a.createElement(Ye,{type:"view"}),!n&&r.a.createElement(He,{clientID:t})))))},We=function(){return r.a.createElement("div",{className:"justify-content-center text-center"},r.a.createElement("div",{className:"row pt-5 mt-5 d-flex justify-content-center"}),r.a.createElement(o.b,{className:"btn mt-5 btn-primary text-center",to:d.e},"Go to dashboard"))},qe=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"No client selected"),r.a.createElement("h4",null,"Please select a client on the left to view reports."))},Ge=n(443),Ve=n.n(Ge),ze=n(869),Je=n(870),Ke=function(e){var t=e.chartData,n=e.clientName,a=[];for(var c in t)t.hasOwnProperty(c)&&a.push({x:t[c],y:t[c],label:c+": "+t[c]});return r.a.createElement("div",null,r.a.createElement("svg",{viewBox:"0 0 400 400",style:{overflow:"visible"}},r.a.createElement(ze.a,{standalone:!1,width:400,height:400,data:a,innerRadius:68,labelRadius:170,colorScale:"qualitative"}),r.a.createElement(Je.a,{textAnchor:"middle",style:{fontSize:20},x:200,y:200,text:n})))},$e=function(e){var t=e.clientID,n=Object(a.useRef)(!0),c=Object(p.d)((function(e){return e.clients.activeClient})),l=Object(p.c)();Object(a.useEffect)((function(){return function(){n.current=!1}}),[]),Object(a.useEffect)((function(){l(le.n(t))}),[t,l]);var o=0,s={},i=Object(u.f)();return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){i.push(d.d+"/"+t)},className:"btn btn-warning m-1 float-right",type:"submit"},"To Client Page"),r.a.createElement("h1",null,c.name," Report"),r.a.createElement(Be,{activeClient:c}),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"theat-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Bucket Name"),r.a.createElement("th",{scope:"col"},"Total Remaining hours"))),r.a.createElement("tbody",null,c.buckets&&c.buckets.map((function(e){if(1===e.archived)return null;var t=0,n=e.hours.length;return n>0&&(t=e.hours[n-1].remaining),o+=t,s[e.name]=t,r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,t))})),r.a.createElement("tr",{className:"theat-dark",key:Ve()()},r.a.createElement("th",null,"Total"),r.a.createElement("th",null,o)))),r.a.createElement("div",{className:"w-25",style:{marginLeft:300}},r.a.createElement(Ke,{chartData:s,clientName:c.name})))},Qe=function(){var e=Object(p.c)(),t=Object(p.d)((function(e){return e.auth.currentUser})),n=window.location.pathname.split(d.i+"/").pop(),c=Object(a.useRef)(!0),l=!1;return window.location.pathname===d.i&&(l=!0),Object(a.useEffect)((function(){t&&(e(le.p()),e(f.d()))}),[e,t]),Object(a.useEffect)((function(){return function(){c.current=!1}}),[]),r.a.createElement("div",null,r.a.createElement(g.a,{fluid:!0},r.a.createElement(fe.a,null,r.a.createElement(pe.a,{xs:2,id:"sidebar-wrapper"},r.a.createElement(de,null)),r.a.createElement(pe.a,{xs:10},l&&r.a.createElement(qe,null),!l&&r.a.createElement($e,{clientID:n})))))},Xe=function(){var e=Object(p.c)(),t=Object(a.useRef)(!0),n=Object(a.useState)([]),c=Object(K.a)(n,2),l=c[0],o=c[1],u=Object(p.d)((function(e){return e.clients.clientSummaryData})),s=Object(p.d)((function(e){return e.auth.adminUsers})),i=Object(p.d)((function(e){return e.auth.currentUser}));Object(a.useEffect)((function(){var e=Te()(new Date).endOf("month"),n=e.format("MMM YYYY"),a=e.subtract(1,"months").format("MMM YYYY"),r=e.subtract(1,"months").format("MMM YYYY");return o([r,a,n]),function(){t.current=!1}}),[]),Object(a.useEffect)((function(){i&&(e(le.o()),e(f.d()))}),[e,i]);var m=function(){return r.a.createElement("div",{className:"m-4"},r.a.createElement("h3",null,"What is this?"),r.a.createElement("p",null,"This summary page shows buckets that fit the following criteria:"),r.a.createElement("ul",null,r.a.createElement("li",null,"The bucket is marked as prepaid: ",r.a.createElement("button",{className:"btn btn-success m-1",type:"submit"},r.a.createElement(Q.a,{icon:X.c}))),r.a.createElement("li",null,"The bucket has hours ",r.a.createElement("u",null,"out")," in the last 3 months"),r.a.createElement("li",null,"The bucket is not archived")))};return 0===u.length?r.a.createElement("div",null,r.a.createElement(m,null),r.a.createElement("hr",null),r.a.createElement("div",{className:"m-4"},"No buckets found matching the summary criteria.")):r.a.createElement("div",null,r.a.createElement(m,null),r.a.createElement(g.a,{fluid:!0},r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"theat-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Client"),r.a.createElement("th",{scope:"col"},"Owner"),r.a.createElement("th",{scope:"col"},"Bucket"),l.map((function(e){return r.a.createElement("th",{key:e,scope:"col"},e)})))),u.map((function(e){var t=e.buckets.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),e.hours.map((function(e){return r.a.createElement("td",{key:e.id},e.out)})))})),n="No owner",a=s.find((function(t){return t.id===e.ownerid}));return void 0!==a&&(n=a.username),r.a.createElement("tbody",{key:e.id},r.a.createElement("tr",{key:e.id},r.a.createElement("th",{rowSpan:"0"},e.name),r.a.createElement("th",{rowSpan:"0"},n)),t)})))))},Ze=function(){var e=Object(a.useRef)(!0),t=Object(p.d)((function(e){return e.clients.clients})),n=Object(p.d)((function(e){return e.auth.adminUsers})),c=Object(p.c)();Object(a.useEffect)((function(){return function(){e.current=!1}}),[]),Object(a.useEffect)((function(){c(le.p()),c(f.d())}),[c]);var l=Object(a.useMemo)((function(){return[{Header:"Client",accessor:"client"},{Header:"Owner",accessor:"owner"}]}),[]),o=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},u=Object(a.useMemo)((function(){return t.map((function(e){var t=n.filter((function(t){return t.id===e.ownerid})),a="No owner";return Object.keys(t).length>0&&(a=t[0].username),{client:o(e.name),owner:o(a)}}))}),[t,n]),s={Cell:function(e){var t=e.cell;return t.value?t.value:null}},i=Object(we.useTable)({columns:l,data:u,defaultColumn:s},we.useSortBy),m=i.getTableProps,d=i.getTableBodyProps,b=i.headerGroups,h=i.rows,E=i.prepareRow;return 0===t.length||0===n.length?r.a.createElement("div",null,"Loading client owners page"):r.a.createElement("div",null,r.a.createElement(g.a,{fluid:!0},r.a.createElement("table",Object.assign({},m(),{className:"table w-50"}),r.a.createElement("thead",null,b.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",e.getHeaderProps(e.getSortByToggleProps()),e.render("Header"),r.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \u2b07\ufe0f":" \u2b06\ufe0f":""))})))}))),r.a.createElement("tbody",d(),h.map((function(e){return E(e),r.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return r.a.createElement("td",e.getCellProps(),e.render("Cell"))})))}))))))},et=function(){return r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(u.c,{style:{minWidth:"900px",overflow:"scroll"}},r.a.createElement(u.a,{exact:!0,path:d.e,component:C}),r.a.createElement(u.a,{path:d.k,component:_}),r.a.createElement(u.a,{path:d.j,component:z}),r.a.createElement(u.a,{exact:!0,path:d.c+d.g,component:_e}),r.a.createElement(u.a,{path:d.c,component:_e}),r.a.createElement(u.a,{path:d.d,component:Fe}),r.a.createElement(u.a,{path:d.i,component:Qe}),r.a.createElement(u.a,{path:d.l,component:Xe}),r.a.createElement(u.a,{path:d.h,component:Ze}),r.a.createElement(u.a,{path:d.a,component:J}),r.a.createElement(u.a,{path:d.b,component:ne}),r.a.createElement(u.a,{path:d.f,component:se}),r.a.createElement(u.a,{component:We}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(854),n(855);var tt=n(222),nt=n(454),at=JSON.parse(localStorage.getItem("authUser")),rt=[];at&&(rt=at);var ct={users:[],adminUsers:[],currentUser:rt},lt={clients:[],activeClient:{},clientSummaryData:[]},ot=Object(tt.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.a:var n=t.users.filter((function(e){return 3===e.role}));return Object(B.a)(Object(B.a)({},e),{},{users:t.users,adminUsers:n});case f.b:var a=t.data.authUser;return localStorage.setItem("authUser",JSON.stringify(a)),Object(B.a)(Object(B.a)({},e),{},{currentUser:a});case f.c:return localStorage.removeItem("authUser"),Object(B.a)(Object(B.a)({},e),{},{currentUser:[]});default:return e}},clients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le.d:return Object(B.a)(Object(B.a)({},e),{},{clients:t.clients});case le.e:return Object(B.a)(Object(B.a)({},e),{},{clientSummaryData:t.clients});case le.a:return Object(B.a)(Object(B.a)({},e),{},{activeClient:t.activeClient});case le.b:return Object(B.a)(Object(B.a)({},e),{},{activeClient:{}});case le.c:return lt;default:return e}}}),ut=Object(tt.c)(ot,Object(tt.a)(nt.a));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,{store:ut},r.a.createElement(et,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[465,1,2]]]);
//# sourceMappingURL=main.3f120118.chunk.js.map